{% extends layouts/Theaderaside.html %}
{{ 'Announcement' }}
{% block extra_head %}{% endblock %}
{% block_content %}
        <main>
         <div class="p-6">
      <div class="flex justify-between items-center  mb-6">
        <div>
          <h1 class="text-3xl font-bold text-gray-800 mb-2">Announcements</h1>
          <p class="text-gray-600">check out the latest annoucements and information</p>
        </div>
        <div class="flex">
          <button onclick="toggleModal()"
            class="bg-primary hover:bg-primary-dark text-md text-white px-4 py-2 rounded-lg flex items-center">
            <i class='bx bx-plus mr-2'></i>
            <span>Create an annoucement</span>
          </button>
        </div>
      </div>
    </div>
    <div class="p-4  rounded-2xl  ml-9 mr-9">
      <div class="flex justify-between items-center mb-1">
        <div class="relative  w-3/6">
          <i class='bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400'></i>
          <input type="text" placeholder="Search announces.."
            class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:border-primary-light">
        </div>
        <div class="w-1/6 pb-4">
          <label for="cours" class="block text-sm font-medium text-emerald-900 ml-3 mb-1">Cours</label>
          <select id="cours" name="cours"
            class="mt-1 block w-full rounded-md bg-white border border-emerald-100 py-2 pl-4 pr-4 ml-2 mb-2 text-emerald-900 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm">
            <option selected>Toutes</option>
            <option>POO</option>
            <option>SI</option>
            <option>RESEAU</option>
          </select>
        </div>
      </div>

    </div>
    </div>
    <!--exmple te container -->
    <div class="p-6 bg-white rounded-2xl shadow-md mb-4 ml-9 mr-9">

      <div class="flex  justify-between items-start">
        <div>
          <h2 class="text-xl font-semibold text-gray-800 mb-1">
            Changes to the exam schedule
          </h2>
          <p class="text-sm text-gray-500 mb-4">
            Par:<span class="text-primary"> Administrator</span> | 1 November 1962
          </p>
        </div>
        <span class="bg-green-100 text-green-700 px-3 py-1  rounded-full text-xs font-medium">Active</span>
      </div>
      <p class="text-md text-gray-800 break-words"> Suite aux récentes modifications du calendrier académique, les
        examens de fin de semestre sont reportés d'une semaine.
        Les nouvelles dates sont disponibles sur l'ENT. Merci de votre compréhension</p>
      <div class="mt-4 pt-2 border-t border-gray-300 text-sm text-gray-500 flex items-center gap-1">
        <i class='bx bx-file'></i>
        <span>Recipients: <span class="text-primary">Islam (delegate)</span></span>
      </div>
    </div>

    <div class="p-6 bg-white rounded-2xl shadow-md mb-4 ml-9 mr-9">

      <div class="flex  justify-between items-start">
        <div>
          <h2 class="text-xl font-semibold text-gray-800 mb-1">
            Changes to the exam schedule
          </h2>
          <p class="text-sm text-gray-500 mb-4">
            Par:<span class="text-primary"> Administrator</span> | 1 November 1962
          </p>
        </div>
        <span class="bg-green-100 text-green-700 px-3 py-1  rounded-full text-xs font-medium">Active</span>
      </div>
      <p class="text-md text-gray-800 break-words"> Suite aux récentes modifications du calendrier académique, les
        examens de fin de semestre sont reportés d'une semaine.
        Les nouvelles dates sont disponibles sur l'ENT. Merci de votre compréhension</p>
      <div class="mt-4 pt-2 border-t border-gray-300 text-sm text-gray-500 flex items-center gap-1">
        <i class='bx bx-file'></i>
        <span>Recipients: <span class="text-primary">Islam (delegate)</span></span>
      </div>
    </div>

    <!-- Modal -->
    <div id="announcementModal"
      class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50">
      <div class="bg-white rounded-xl shadow-lg w-full max-w-lg p-6 relative">

        <!-- Close Button -->
        <button onclick="toggleModal()"
          class="absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl">&times;</button>

        <h2 class="text-xl font-semibold text-gray-800 mb-4">New Announcement</h2>

        <form onsubmit="submitAnnouncement(event)">

          <!-- Title -->
          <label class="block mb-2 text-sm text-gray-600">Title</label>
          <input type="text" id="titleInput"
            class="w-full border border-gray-300 rounded-md p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-green-500"
            required />

          <!-- Message -->
          <label class="block mb-2 text-sm text-gray-600">Message</label>
          <textarea id="messageInput" rows="4"
            class="w-full border border-gray-300 rounded-md p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-green-500"
            required></textarea>

          <!-- Category -->
          <label class="block mb-2 text-sm text-gray-600">Cours</label>
          <select id="coursSelect"
            class="w-full border border-gray-300 rounded-md p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-green-500">
            <option>POO</option>
            <option>Reseau</option>
            <option>TG</option>
            <option>BD</option>
            <option>Other</option>
          </select>

          <!-- Recipient -->
          <label class="block mb-2 text-sm text-gray-600">Send To</label>
          <select id="recipientSelect"
            class="w-full border border-gray-300 rounded-md p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-green-500">
            <option>All</option>
            <option>Teachers</option>
            <option>Delegates</option>
            <option>Admins</option>
          </select>

          <!-- Buttons -->
          <div class="flex justify-end gap-4">
            <button type="button" onclick="toggleModal()"
              class="px-4 py-2 rounded-md bg-gray-300 text-gray-700 hover:bg-gray-400">
              Cancel
            </button>
            <button type="submit" class="px-4 py-2 rounded-md bg-primary text-white hover:bg-primary-dark">
              Post
            </button>
          </div>

        </form>
      </div>
    </div>
        </main>
    {% endblock %}
    {% block js %}
    <script>
     
        function toggleModal() {
        const modal = document.getElementById('announcementModal');
        modal.classList.toggle('hidden');
      }

      function submitAnnouncement(event) {
        event.preventDefault();

        const title = document.getElementById('titleInput').value;
        const message = document.getElementById('messageInput').value;
        const category = document.getElementById('categorySelect').value;
        const recipient = document.getElementById('recipientSelect').value;

        // Placeholder for actual sending logic
        console.log("New Announcement:", { title, message, category, recipient });

        alert("Announcement posted!");

        // Reset form
        event.target.reset();
        toggleModal();
      }
    </script>
 {% endblock %}
</body>

</html>